# ===========================================
# WOO-IMPORTER CONFIGURATION
# ===========================================
# Copy this file to .env and fill in your values
# DO NOT commit .env to version control!

# ===========================================
# GOLDEN SNEAKERS API
# ===========================================
GS_API_URL=https://www.goldensneakers.net/api/assortment/
GS_BEARER_TOKEN=your_jwt_token_here
GS_MARKUP_PERCENTAGE=25
GS_VAT_PERCENTAGE=22
GS_ROUNDING_TYPE=whole

# ===========================================
# WOOCOMMERCE REST API
# ===========================================
# Get these from: WooCommerce → Settings → Advanced → REST API
WC_URL=https://your-store.com
WC_CONSUMER_KEY=ck_your_consumer_key_here
WC_CONSUMER_SECRET=cs_your_consumer_secret_here
WC_API_VERSION=wc/v3

# ===========================================
# WORDPRESS (required for media uploads)
# ===========================================
# Create Application Password: Users → Your Profile → Application Passwords
WP_USERNAME=admin
WP_APP_PASSWORD=xxxx_xxxx_xxxx_xxxx_xxxx_xxxx

# ===========================================
# STORE INFORMATION
# ===========================================
STORE_NAME=ResellPiacenza
STORE_LOCALE=it_IT

# ===========================================
# IMPORT SETTINGS
# ===========================================
# Default category for all imported products
IMPORT_CATEGORY_NAME=Sneakers

# Import behavior
IMPORT_BATCH_SIZE=100
IMPORT_CREATE_OUT_OF_STOCK=true

# ===========================================
# CATEGORIES (Auto-detected by size format)
# ===========================================
# Products with numeric sizes (36, 37.5, 42) → Sneakers category
CATEGORY_SNEAKERS_NAME=Sneakers
CATEGORY_SNEAKERS_SLUG=sneakers

# Products with letter sizes (S, M, L, XL) → Clothing category
CATEGORY_CLOTHING_NAME=Abbigliamento
CATEGORY_CLOTHING_SLUG=abbigliamento

# ===========================================
# GLOBAL WOOCOMMERCE ATTRIBUTES (pa_* taxonomies)
# ===========================================
# These are registered as global attributes for filtering support
# They enable "Filter by Attribute" widgets in WooCommerce

# Size attribute (Italian: Taglia) - creates pa_taglia taxonomy
ATTRIBUTE_SIZE_NAME=Taglia
ATTRIBUTE_SIZE_SLUG=taglia

# Brand attribute (Italian: Marca) - creates pa_marca taxonomy
# Only used if BRANDS_CREATE_ATTRIBUTE=true
ATTRIBUTE_BRAND_NAME=Marca
ATTRIBUTE_BRAND_SLUG=marca

# ===========================================
# BRANDS TAXONOMY (Perfect Brands / WooCommerce Brands plugin)
# ===========================================
# Enable/disable brand assignment via brands taxonomy
# Requires a WooCommerce brands plugin (e.g., Perfect Brands for WooCommerce)
# This is SEPARATE from product categories - proper separation of concerns
BRANDS_ENABLED=true

# Also create brand as product attribute (pa_marca) for filtering widgets
# Set to true if you want brand filtering via WooCommerce attribute widgets
# Note: This is in ADDITION to the brands taxonomy, not a replacement
BRANDS_CREATE_ATTRIBUTE=false

# ===========================================
# KICKSDB PRICING (Variant Price Tracking)
# ===========================================
# KicksDB PRO API key (https://kicks.dev)
KICKSDB_API_KEY=your_kicksdb_api_key_here
KICKSDB_BASE_URL=https://api.kicks.dev/v3
KICKSDB_MARKET=IT

# KicksDB Discovery (auto-assortment for kicksdb-sync.sh)
# Number of top products to discover from KicksDB
KICKSDB_ASSORTMENT_SIZE=800
# Generic search query for discovery (returns popular products sorted by rank)
KICKSDB_DISCOVERY_QUERY=sneakers
# Results per page during discovery API calls
KICKSDB_DISCOVERY_PAGE_SIZE=50

# KicksDB Webhook Configuration
# The webhook ID is auto-generated on first registration and saved to data/sku-registry.json
# Set this if you already have a webhook registered
KICKSDB_WEBHOOK_ID=
# Your publicly accessible endpoint for KicksDB to send price change events
KICKSDB_WEBHOOK_CALLBACK_URL=https://your-store.com/api/kicksdb-webhook
# Shared secret for webhook signature verification
KICKSDB_WEBHOOK_SECRET=your_webhook_secret_here

# WooCommerce Product Webhook (auto-register new SKUs with KicksDB)
# Create in: WP Admin → WooCommerce → Settings → Advanced → Webhooks
# Topics: product.created, product.updated, product.deleted
# Delivery URL: https://your-store.com/api/wc-product-listener
WC_PRODUCT_WEBHOOK_SECRET=your_wc_webhook_secret_here

# ===========================================
# PRICING MARGIN STRATEGY
# ===========================================
# Flat margin percentage (used when no tier matches)
PRICING_FLAT_MARGIN=25

# Tiered margins (JSON array, optional - overrides flat margin for matching ranges)
# Format: [{"min": 0, "max": 100, "margin": 35}, {"min": 100, "max": 200, "margin": 28}, ...]
# Leave empty [] to use flat margin for all prices
PRICING_TIERS=

# Stock tiers: dynamic stock quantities based on market price (KicksDB only)
# Format: [{"min": 0, "max": 100, "stock": 80}, {"min": 100, "max": 200, "stock": 50}, ...]
# Lower price range = higher stock, higher price range = lower stock
# Leave empty [] to use defaults (80/50/25/12)
PRICING_STOCK_TIERS=

# Floor price: absolute minimum selling price in EUR (0 = disabled)
PRICING_FLOOR_PRICE=59

# Rounding strategy: 'whole' (ceil to integer), 'half' (ceil to .50), 'none' (2 decimals)
PRICING_ROUNDING=whole

# ===========================================
# PRICE ALERTS
# ===========================================
# Percentage threshold to trigger email alert on price swings (0 = disabled)
PRICING_ALERT_THRESHOLD=30
# Email address for price alerts (leave empty to disable)
PRICING_ALERT_EMAIL=

# Batch size for WC API variation updates (max 100)
PRICING_BATCH_SIZE=100

# ===========================================
# LOGGING
# ===========================================
LOG_ENABLED=true
LOG_LEVEL=info
LOG_CONSOLE_LEVEL=info
